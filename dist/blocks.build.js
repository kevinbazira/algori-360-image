!function(e){function t(l){if(n[l])return n[l].exports;var i=n[l]={i:l,l:!1,exports:{}};return e[l].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,l){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:l})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(1)},function(e,t,n){"use strict";var l=n(2),i=(n.n(l),n(3)),a=(n.n(i),wp.components),r=a.PanelBody,o=a.Spinner,c=a.TextControl,s=a.withNotices,m=a.Notice,u=wp.element.Fragment,__=wp.i18n.__,d=wp.blocks.registerBlockType,g=wp.blockEditor,p=g.BlockControls,w=g.InspectorControls,h=g.BlockAlignmentToolbar,f=g.MediaPlaceholder,b=g.MediaReplaceFlow,E=(g.MediaUpload,g.AlignmentToolbar,g.RichText,wp.blob.isBlobURL),y=["image"],v={title:{type:"array",source:"children",selector:"p"},url:{type:"string"},align:{type:"string"},widthBeforeWideFullAlignments:{type:"number",default:600},width:{type:"number",default:600},height:{type:"number",default:300},contentAlign:{type:"string",default:"center"},id:{type:"number"}},k=wp.blocks.getCategories().some(function(e){return"common"===e.slug});d("algori-360-image/block-algori-360-image",{title:__("360\xb0 Image"),description:__("If an image is worth 1,000 words, imagine how many more words an interactive 360\xb0 image is worth!  Insert a single 360\xb0 image."),icon:"format-image",category:k?"common":"media",keywords:[__("algori panorama image - three sixty degree photo"),__("spherical photo - full-sphere 3D image"),__("equirectangular image - VR (Virtual Reality) photography")],example:{attributes:{url:"../wp-content/plugins/360-image/360-image-example.jpg"}},attributes:v,getEditWrapperProps:function(e){return{"data-align":e.align}},edit:s(function(e){var t=e.attributes,n=e.setAttributes,l=(e.isSelected,e.className),i=e.noticeOperations,a=e.noticeUI,s=t.url,d=(t.title,t.align),g=t.widthBeforeWideFullAlignments,v=t.width,k=t.height,N=(t.contentAlign,t.id),x=function(e){return n({width:parseInt(e,10),widthBeforeWideFullAlignments:parseInt(e,10)})},O=function(e){return n({height:parseInt(e,10)})},A=function(e){if(!e||!e.url)return void n({url:void 0,id:void 0});n({url:e.url,id:e.id})},I=function(e){e!==s&&n({url:e,id:void 0})},j=function(e){i.removeAllNotices(),i.createErrorNotice(e)},R=function(e){var t=-1!==["wide","full"].indexOf(e)?{width:void 0}:{width:g};n(Object.assign({},t,{align:e}))},B=wp.element.createElement(u,null,wp.element.createElement(p,null,wp.element.createElement(h,{value:d,onChange:R}),wp.element.createElement(b,{mediaId:N,mediaURL:s,allowedTypes:y,accept:"image/*",onSelect:A,onSelectURL:I,onError:j})),!!s&&wp.element.createElement(w,null,wp.element.createElement(r,{title:__("360\xb0 Image Settings")},wp.element.createElement("div",null,wp.element.createElement("p",null,__("Image Dimensions")),wp.element.createElement("div",null,-1!==["wide","full"].indexOf(d)?wp.element.createElement(m,{status:"informational",isDismissible:"false"},__("The")," \xa0",wp.element.createElement("strong",null,__("Width"))," \xa0",__("setting has been disabled because you have chosen either")," \xa0",wp.element.createElement("strong",null,__("Full"))," \xa0",__("or")," \xa0",wp.element.createElement("strong",null,__("Wide"))," \xa0",__("width alignment from the block toolbar.")):wp.element.createElement(c,{type:"number",label:__("Width"),value:void 0!==v?v:"",placeholder:600,min:1,onChange:x}),wp.element.createElement(c,{type:"number",label:__("Height"),value:void 0!==k?k:"",placeholder:300,min:1,onChange:O}))))));return s?wp.element.createElement(u,null,B,E(s)&&wp.element.createElement(o,null),wp.element.createElement("figure",{style:-1!==["wide","full"].indexOf(d)?{height:k}:{width:v,height:k},className:"wp-block-algori-360-image-block-algori-360-image align"+d},wp.element.createElement("a-scene",{"loading-screen":"enabled: false;",embedded:!0},wp.element.createElement("a-entity",{camera:"","look-controls":"reverseMouseDrag: true"}),wp.element.createElement("a-sky",{src:s})))):wp.element.createElement(u,null,B,wp.element.createElement(f,{icon:"format-image",className:l,labels:{title:__("360 Image"),instructions:__("Drag a 360\xb0 image, upload a new one, insert from URL or select a file from your library.")},onSelect:A,onSelectURL:I,accept:"image/*",allowedTypes:y,notices:a,onError:i.createErrorNotice}))}),save:function(e){var t=e.attributes,n=(e.className,t.url),l=(t.title,t.align),i=t.width,a=t.height;t.contentAlign,t.id;return wp.element.createElement("figure",{style:-1!==["wide","full"].indexOf(l)?{height:a}:{width:i,height:a},className:"align"+l},wp.element.createElement("a-scene",{"loading-screen":"enabled: false;","device-orientation-permission-ui":"enabled: false",embedded:""},wp.element.createElement("a-entity",{camera:"","look-controls":"reverseMouseDrag: true"}),wp.element.createElement("a-sky",{src:n})))},deprecated:[{attributes:Object.assign({},v),save:function(e){var t=e.attributes,n=(e.className,t.url),l=(t.title,t.align),i=t.width,a=t.height;t.contentAlign,t.id;return wp.element.createElement("figure",{style:-1!==["wide","full"].indexOf(l)?{height:a}:{width:i,height:a},className:"align"+l},wp.element.createElement("a-scene",{"loading-screen":"enabled: false;",embedded:""},wp.element.createElement("a-entity",{camera:"","look-controls":"reverseMouseDrag: true"}),wp.element.createElement("a-sky",{src:n})))}},{attributes:Object.assign({},v),save:function(e){var t=e.attributes,n=(e.className,t.url),l=(t.title,t.align),i=t.width,a=t.height;t.contentAlign,t.id;return wp.element.createElement("figure",{style:-1!==["wide","full"].indexOf(l)?{height:a}:{width:i,height:a},className:"align"+l},wp.element.createElement("a-scene",{embedded:""},wp.element.createElement("a-sky",{src:n})))}},{attributes:Object.assign({},v),save:function(e){var t=e.attributes,n=(e.className,t.url),l=(t.title,t.align,t.width),i=t.height;t.contentAlign,t.id;return wp.element.createElement("figure",{style:{width:l,height:i}},wp.element.createElement("a-scene",{embedded:""},wp.element.createElement("a-sky",{src:n})))}},{attributes:Object.assign({},v),save:function(e){var t=e.attributes,n=(e.className,t.url),l=(t.title,t.align,t.width),i=t.height;t.contentAlign,t.id;return wp.element.createElement("div",null,wp.element.createElement("a-scene",{className:"wp-block-cgb-block-algori-360-image-embedded-scene",style:{width:l,height:i},embedded:""},wp.element.createElement("a-sky",{src:n})))}}]})},function(e,t){},function(e,t){}]);